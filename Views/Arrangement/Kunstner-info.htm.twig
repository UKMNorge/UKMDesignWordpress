{% extends "UKMDesign/Layout/base.html.twig"|UKMpath %}

{% block content %}
    {% if innslag %}
        <div class="container">
            {% if innslag.getBilder().getAntall() > 1 %}
                    <div class="{{ col_right }}">

                    <div id="imageslider{{ innslag.getId() }}" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                        {% for bilde in innslag.getBilder().getAll() %}
                            
                                <div class="carousel-item {% if loop.first %} active {% endif %} ">
                                    <a href="{{ bilde.getSize("original").getUrl()|replace({'http:':'https:'}) }}" target="_blank">
                                        <img src="{{ bilde.getSize("medium").getUrl()|replace({'http:':'https:'}) }}" class="img-carousel d-block w-100"/>
                                    </a>
                                </div>
                        {% endfor %}

                        </div>
                        <a class="carousel-control-prev" href="#imageslider{{ innslag.getId() }}" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#imageslider{{ innslag.getId() }}" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            {% endif %}
            {% if innslag.getBilder().getAntall() == 1 %}
                <div class="{{ col_right }}">
                    <center>
                        {% for bilde in innslag.getBilder().getAll() %}
                            <a href="{{ bilde.getSize("original").getUrl()|replace({'http:':'https:'}) }}" target="_blank">
                                <img src="{{ bilde.getSize("medium").getUrl()|replace({'http:':'https:'}) }}" class="mt-2" />
                            </a>
                        {% endfor %}
                    </center>
                </div>
            {% endif %}
        </div>
            

        <div class="container">
		<div class="row">
			<div class="col">
				<article>
					{# Category, title and breadtext #}
					<div class="info-text-section mt-3">
						<h1 class="article-header">{{ post.getTitle()|raw }}</h1>
						<p class="info-text-lead mt-4"></p>
						<div class="row" style="margin-top: 2rem; margin-bottom: 2rem;">

							{# Social media share buttons #}
							<div class="share-line-horizontal {{ post.getMeta('type') == 'workshop' ? 'workshop-social-media' : '' }}">
								<div class="col-2 share-buttons d-flex justify-content-around">
									{% include "Post/Share.html.twig" %}
								</div>
							</div>
							{% if post.hasFeaturedFilm() == true %}
								<div class="col-2 share-buttons justify-content-around d-none d-lg-flex">
									{% include "Post/Share.html.twig" %}
								</div>
							{% endif %}
						</div>
						{# Has content and not a video #}
                        {% if post.content_wo_lead|raw == "" %}
                            <p class="beskrivelse">
                                {{ innslag.getBeskrivelse() }}
                            </p>
                        {% endif %}
						{% if post.content_wo_lead|raw != "" %}
							<div class="row">
								
							{% endif %}
							<div class="col-md-9 col-xl-9">
								<p class="bread-text">{{ post.content_wo_lead|raw }}</p>
							</div>
						</div>
					</div>
					{# Video under header for prettier layout imo #}
					{% if post.hasFeaturedFilm()%}
						{% if post.content_wo_lead|raw == "" %}
							{% include "Page/TopImage.html.twig" %}
						{% endif %}
					{% endif %}
				</article>
			</div>
		</div>
	</div>
    {% else %}
        <h4>
            Ugyldig lenke!
        </h4>
    {% endif %}
    
    {% block stylesheets %}
        <style>
            .carousel-item a {
                display: flex;
            }
            .carousel-item a .img-carousel {
                max-height: 450px;
                min-height: 350px;
                width: auto !important;
                margin: auto;
                height: 100%;
                overflow: hidden;
            }
        </style>
    {% endblock %}
{% endblock %}
